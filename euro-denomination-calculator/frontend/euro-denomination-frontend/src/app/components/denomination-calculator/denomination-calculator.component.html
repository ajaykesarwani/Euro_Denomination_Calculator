<div class="input-section">
  <label for="amount">Amount (€):</label>
  <input
    type="number"
    id="amount"
    [(ngModel)]="amount"
    step="0.01"
    min="0"
    placeholder="Enter amount in EUR"
  >

  <div class="toggle">
    <label class="switch">
      <input type="checkbox" [(ngModel)]="useBackend">
      <span class="slider"></span>
    </label>
    <span>{{ useBackend ? 'Using Backend' : 'Using Frontend' }}</span>
  </div>

  <button (click)="onCalculate()" [disabled]="loading || amount <= 0">
    {{ loading ? 'Calculating...' : 'Calculate' }}
  </button>
</div>

<div *ngIf="result" class="result-section">
  <h2>New denomination {{ result.amount | number:'1.2-2' }} euros</h2>

  <table class="denomination-table">
    <thead>
    <tr>
      <th>Notes/Coins</th>
      <th>Quantity</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let denom of getDenominationKeys()">
      <td>{{ denom }}€</td>
      <td>{{ result.breakdown[denom] }}</td>
    </tr>
    </tbody>
  </table>

  <div *ngIf="result.changes && oldAmount" class="changes-section">
    <h2>Difference to {{ oldAmount | number:'1.2-2' }} euros</h2>

    <table class="denomination-table">
      <thead>
      <tr>
        <th>Notes/Coins</th>
        <th>Difference</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let denom of getChangedDenominationKeys()">
        <td>{{ denom }}€</td>
        <td [class.positive]="result.changes[denom] > 0"
            [class.negative]="result.changes[denom] < 0"
            [class.zero]="result.changes[denom] === 0">
          {{ formatChange(result.changes[denom]) }}
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>
